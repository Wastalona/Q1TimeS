@model List<Survey>
@{
    ViewData["Title"] = "Опросы";
    ViewData["StyleName"] = "surveys.css";
    string clientSessionValue = Context.Session.GetString("user_session_key");
}

@if (!string.IsNullOrEmpty(clientSessionValue))
{
    <h1>Подключено как пользователь</h1>
    <p>User Session Key: @clientSessionValue</p>
}

@if (Model != null && Model.Any())
{
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Название</th>
                <th>Время проведения</th>
                <th>Количество мест</th>
                <th>Статус опроса</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var survey in Model)
            {
                <tr>
                    <td>@survey.SurveyId</td>
                    <td>@survey.Title</td>
                    <td>@survey.CutOffTime</td>
                    <td>0 / @survey.PeopleLimit</td>
                    <td>@survey.SurveyStatus</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>Нет данных для отображения</p>
}
